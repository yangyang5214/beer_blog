---
title: 线程
date: 2019-01-22 18:04:01
tags: java
---

> 现代操作系统调度的最小单元是线程，也叫轻量级进程。

## 线程
### 线程状态

|状态名称|说明|
| :----: | :-----:|
|new|初始状态，线程被创建|
|runnable|运行状态，Java将操作系统中的就绪和运行两种状态笼统称为运行中|
|blocked| 阻塞状态，表示线程阻塞于锁|
|waiting| 等待状态，表示当前线程需要等待其他线程做出一些特定动作，通知或者中断|
|time_waiting|等待超时，不同于waiting,它是可以在指定的时间自行返回的|
|terminated|终止状态，表示当前线程已经执行完毕|



![](https://beer-1256523277.cos.ap-shanghai.myqcloud.com/blog/thread.png
)

### 启动

start 方法启动线程，分配到时间片之后就处于运行状态了

### 中断

### 过期的 suppend resume stop
不建议使用的原因是：在方法调用之后（supend 为例子），线程不会释放已经占有的资源（比如锁），而是占着资源进入睡眠状态，会引起死锁。

### 安全终止线程

- interrupt()
- boolean 标志位
## 线程间通信
### volatile and synchronized 


- volatile 
```
对变量的访问，需要从共享内存中获取
对变量的改变，必须同步刷新回到共享内存
```
- synchronized 
```
同步块的方式，确保在多个线程在同一时刻，只能有一个线程处于方法和方法块中，保证线程对变量访问的可变性和排他性
```

### 等待/通知机制

