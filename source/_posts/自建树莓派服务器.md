---
title: 自建树莓派服务器
date: 2020-06-15 21:54:13
tags: 树莓派
---

> 同事都在倒腾树莓派。忍不住凑个热闹。。。

### 买买买

- 树莓派主板  
- type-c 抽电线
- 内存卡+读卡器，之前 mp4，mp5 或者 手机等的存储卡
- U 盘 （内存卡的替代产品）
- 摄像头(可无 )

### 装系统

官网：https://www.raspberrypi.org/

https://www.raspberrypi.org/downloads/raspberry-pi-os/

根据自己选择下载对应的镜像。

推荐用  https://www.balena.io/etcher/ 写入镜像到内存卡

写完之后，在主目录：

1. 开启 ssh. 新建文件 SSH 空白文件
2. 配置 wifi。新建文件 wpa_supplicant.config

```
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
network={
  ssid="WIFI名"
  psk="WIFI密码"
}
``` 

直接插到主板，通电就好。

<!--more-->

### 外部访问


- 连接
``` 
ssh pi@ip

pi 是默认用户名  pwd: raspberry

ip 到路由器管理页面找吧
```
- 端口转发

划重点（电信为例）

1. 宽带需要改为拨号上网。直接找宽带管理员改
2. 10000 电话要宽带 账号密码，外网ip（我这边的师傅说现在电信都是外网ip了）
3. 路由器设置拨号上网，然后填写用户名密码之类的。
4. 路由器设置端口转发（我的是小米路由器）
5. 绑定域名，部署服务


```
curl https://beef.hexianwei.com/about | jq .
```

万事大吉了。。。






 








