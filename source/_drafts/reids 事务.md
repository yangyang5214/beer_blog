---
title: redis 事务
tags: redis,java
notebook: 
---

> 一次性执行多条命令


- multi
```
标记一个事务块的开始
```
- exec 
```
执行所有事务块的命令
```

- discard
```
取消事务，放弃执行事务块内的所有命令
```

- watch
```
监视一个或者多个key,如果在事务执行之前这个或这些key被其他命令所改动，那么事务将被打断
```

- unwatch
```
取消watch命令对所有key 的监视
```

### 悲观锁

> 强烈的独占和排他性，每次都加锁（数据库级别的行锁、表锁等）

### 乐观锁

> 读数据的时候不会上锁，但是在更新数据的时候进行 CAS操作


